/* Morus v1.0.0 | github.com/bemson | (c) 2014, MIT */
!function(k,l,f,s){function g(){function g(){for(var b={},c=m.concat(),d,a,e,f=95;f--;)e=n(p()*f),a=f+32,d=c[e],b[a+"c"]=d,b[d]=a,c.splice(e,1);return b}function e(){this.randomize()}var h={},m=[],f,k=JSON.stringify,l=JSON.parse,p=Math.random,n=Math.round,q=/[ -~]/g,r=/^(\d+)({.+})$/;!function(){for(var b=95,c,d;b--;)c=b+32,d=String.fromCharCode(c),h[c+"c"]=m[b]=d,h[d]=c;f=m.join("")}();e.prototype.encode=function(b){var c=this.key,d=this.index,a;return b.replace(q,function(b){a=h[b];a-=32-d;a%=95;
a+=32;d++;return c[a+"c"]})};e.prototype.decode=function(b){var c=this.key,d=this.index,a;return b.replace(q,function(b){a=c[b];a-=32+d;0>a&&(a%=95)&&(a=95+a);a+=32;d++;return h[a+"c"]})};e.prototype.randomize=function(){this.key=g();this.index=n(95*p());return this};e.prototype.cipher=function(b){var c;return arguments.length?"string"==typeof b&&(c=r.exec(b))?(this.index=+c[1],this.key=l(c[2]),!0):!1:this.index+k(this.key)};e.genKey=g;e.ASCII=f;return e}k?define(g):l?module.exports=g():f.Morus||
(f.Morus=g())}("function"==typeof define,"undefined"!=typeof exports,this);